SDK - Software Development Kit - комплект средств разработки.

SDK Virt2real - комплект средств разработки под платформу Virt2real.

DVSDK - Digital Video Software Development Kit - SDK видеоподсистемы для процессоров фирмы Texas Instruments

SDK Virt2real состоит из нескольких компонентов:

1. Ядро (./kernel) - Linux

2. Файловая система (./fs) - на базе Buildroot

3. Загрузчик (./bootloader) - U-Boot

4. DVSDK (./dvsdk)

5. Компилятор (./codesourcery) - CodeSourcery

6. Панель управления (она же Админка, она же Вебморда, она же Панель управления) (./adminka) - Самописный веб-интерфейс

Системные требования для установки SDK Virt2real:

1. Операционная система на базе Linux. Проверена работа на системах Ubuntu 10.04 и выше. В остальных дистрибутивах Linux возможно потребуется доработка напильником.

2. Персональный компьютер. Выбирается по принципу - чем шустрее проц тем быстрее SDK собираться будет.

3. Оперативная память - см. пункт 2.

4. Свободное место на жёстком диске - чем больше тем лучше. SDK после сборки в почти минимальной конфигурации занимает почти 7 гигабайт.

5. Прямые руки

6. Пункт 5 из нужного места

Перед началом работы с SDK требуется установить некоторый софт

      sudo apt-get install git bash make flex bison gcc g++ gettext texinfo u-boot-tools ncurses-dev mercurial subversion

Главный управляющий файл virt2real SDK - Makefile. Пользоваться им очень легко - достаточно скачать Makefile в какой-нибудь каталог,
например, /opt/virt2real-sdk (при установке из-под учётки суперпользователя) или /home/{username}/virt2real-sdk (при установке из-под учётной записи обычного пользователя).

      git clone https://github.com/virt2real/install-sdk.git /opt/virt2real-sdk

Далее надо перейти в этот каталог. Далее в инструкции мы будем оперировать только содержимым этого каталога, так что назовём его корневым каталогом SDK.

      cd /opt/virt2real-sdk

В Убунте симлинк /bin/sh по-умолчанию ссылается на /bin/dash, для корректной работы хорошо бы переделать на bash.
Делается это следующими командами

      rm /bin/sh
      ln -s /bin/bash /bin/sh

После этого можно приступать к работе с SDK.

Помимо мейкфайла (Makefile) в получившемся каталоге появится несколько шелл-скриптов, служащия для упрощения выполнения типовых операций с SDK.

То что вы скачали командой git clone (мейкфайл и несколько шелл-скриптов) не являются SDK как таковым. Это лишь командные файлы, которые позволяют
автоматически скачать все нужные компоненты SDK и настроить их.

Итак, сначала надобно скачать все компоненты SDK, это делается командой

      make getsdk

Довольно долго будет скачиваться, имейте терпение. После того как всё скачалось, можно конфигурировать и далее в том же духе...

Загружаем делаем конфигурацию по-умолчанию. Очень важный пункт, без него ничего не соберётся.

      make defconfig

Собираем все компоненты SDK автоматически, по-очерёдно

      make build

Первая полная сборка может занять довольно много времени, наберитесь терпения. На тестовой виртуальной машине первая сборка заняла полтора часа.

После этого в Makefile правим переменную SDNAME, чтобы она содержала название девайса SD карточки, например

      SDNAME=/dev/sdc

!!! АХТУНГ !!! Если вы ошиблись буковкой и вместо /dev/sdc вбили, допустим, /dev/sdb - велика вероятность
того что установщик затрёт содержимое вашего второго жёсткого диска (если он есть, конечно). Так что трижды проверьте правильное название устройства,
которым операционная система определяет вашу флэш-карту.

Теперь устанавливаем всё на micro-SD карточку

      make install

для ленивых - просто запустить скрипт (который содержит такие же команды)

      CARD_INSTALL.sh

Установка на карточку занимает примерно минут пять.

После установки micro-SD карточка будет содержать два раздела - boot и rootfs. Оба они будут смонтированы в подкаталоге images корневого каталога SDK.

Можно сразу зайти туда и поправить нужные конфиги, если это требуется. Например, можно сразу исправить параметры подключения Wi-Fi (файл /etc/wpa_supplicant.conf)

Далее надо размонтировать флеш-карточку. Для этого в корневом каталоге SDK есть скрипт CARD_UMOUNT.sh Ну или обычной командой umount, кому как удобнее.

Всё, теперь можно вытаскивать флеш-карточку из компьютера и вставлять в Виртурилку.





Описание всех команд:

    make
        покажет хелп (список параметров)

    make getsdk
        самая первая команда, скачивает все необходимые компоненты SDK

    make defconfig
        загружает дефолтные настройки компонентов SDK

    make kernelconfig
        конфигурирование ядра

    make fsconfig
        конфигурирование файловой системы

    make build
        соберёт все компоненты

    make install
        установит все компоненты на карточку

    make clean
        очистит всё что было собрано



